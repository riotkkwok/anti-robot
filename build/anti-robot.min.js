!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AntiRobot=t():e.AntiRobot=t()}(window,function(){return o={},i.m=n=[function(e,t,n){"use strict";var o,i,r,u;t.__esModule=!0,(i=o=o||{})[i.UA_KEYWORD=1]="UA_KEYWORD",i[i.NO_MOVE_CLICK=2]="NO_MOVE_CLICK",i[i.FAKE_CLICK=3]="FAKE_CLICK",(u=r=r||{})[u.NULL=0]="NULL",u[u.KEYBOARD=1]="KEYBOARD",u[u.MOUSE=2]="MOUSE";var s=window.navigator.userAgent,f=/iPhone|iPod|iPad|Android/i.test(s),c=1e4,l=h(),d=[],a=new function(){this.shiftIn=function(e){5===this.list.length&&this.shiftOut();var t={type:e,time:Date.now()};this.list.unshift(t)},this.shiftOut=function(){this.list.shift()},this.isAllEqualsTo=function(e){if(0===this.list.length)return!1;for(var t=0,n=this.list;t<n.length;t++)if(n[t].type!==e)return!1;return!0},this.getOldestTime=function(){return 0<this.list.length?this.list[0].time:void 0},this.size=function(){return this.list.length},this.list=[]},p={click:0,keydown:{key:"",time:0},mousedown:0,mousemove:0};function h(e){var t,n={pageUrl:"",referrer:"",pageTime:-1,historyLength:-1};return n.pageUrl=window.location.href,n.referrer=document.referrer,window.performance&&0<(null===(t=window.performance)||void 0===t?void 0:t.now())?n.pageTime=Date.now()-Math.floor(window.performance.now()):n.pageTime=Date.now(),n.historyLength=history.length,e&&"object"==typeof e&&(n.options=e),n}function m(e){p.keydown.key=e.key,p.keydown.time=Date.now()}function y(e){p.mousedown=Date.now()}function v(e){p.mousemove=Date.now(),console.debug("mousemove")}function g(e){p.click=Date.now();var t=p.click-p.keydown.time,n=p.click-p.mousedown;if(t<500&&"Enter"===p.keydown.key&&t<n)a.shiftIn(r.KEYBOARD);else{if(!(n<500&&n<t))return a.shiftIn(r.NULL),void w(o.FAKE_CLICK,{eventTarget:e.target});a.shiftIn(r.MOUSE)}console.debug(5===a.size(),a.isAllEqualsTo(r.MOUSE),p.click-a.getOldestTime()<c,p.click-p.mousemove>c),5===a.size()&&a.isAllEqualsTo(r.MOUSE)&&p.click-a.getOldestTime()<c&&p.click-p.mousemove>c&&w(o.NO_MOVE_CLICK,{eventTarget:e.target})}function w(e,t){for(var n=0,o=d;n<o.length;n++){(0,o[n])(e,t)}}t.detectRobot=function(e,t,n){if(!e||"function"!=typeof e)throw new Error("Uncaught TypeError: Failed to execute 'detectRobot' method: The type of argument 'handler' is invalid.");d.push(e),t&&"object"==typeof t&&(l.options=t),0<n&&(c=n),/emulator|headless|spider|null|undefined|robot|[^\x00-\xff]/i.test(s)?w(o.UA_KEYWORD):f||(document.addEventListener("keydown",m,!0),document.addEventListener("mousedown",y,!0),document.addEventListener("mousemove",v,!0),document.addEventListener("click",g,!0))},t.checkSignature=function(e){var t,n=h();for(t in n)if(n[t]!==l[t])return!1;if(e&&"object"==typeof e){if(!l.options||"object"!=typeof l.options)return!1;if(Object.keys(e)!==Object.keys(l.options))return!1;for(var o in e)if(e[o]!==(null==l?void 0:l.options[o]))return!1}return!0},t.reset=function(){for(l=h();0<d.length;)d.pop()}}],i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0);function i(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n,o});